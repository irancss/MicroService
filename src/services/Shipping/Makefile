# Shipping Service Makefile - Complete Build and Deployment Automation
# ===================================================================
# .NET 8 Microservice with CQRS, Premium Subscriptions, and Free Shipping Rules
# Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¯Ø³ØªÙˆØ±Ø§Øª Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ø´ÛŒÙ¾ÛŒÙ†Ú¯ Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡

# Variables - Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ
PROJECT_NAME = ShippingService
SOLUTION_FILE = Shipping.sln
API_PROJECT = ShippingService.API
INFRASTRUCTURE_PROJECT = ShippingService.Infrastructure
DOMAIN_PROJECT = ShippingService.Domain
APPLICATION_PROJECT = ShippingService.Application
TEST_PROJECT = ShippingService.Tests

# Database Configuration - Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
DB_CONNECTION = "Host=localhost;Database=ShippingServiceDb;Username=postgres;Password=your_password"
MIGRATION_NAME = AddPremiumSubscriptionAndFreeShippingRules

# Docker Configuration - Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¯Ø§Ú©Ø±
DOCKER_IMAGE = shipping-service
DOCKER_TAG = latest
DOCKER_REGISTRY = your-registry.com

# Code Quality - Ú©ÛŒÙÛŒØª Ú©Ø¯
COVERAGE_THRESHOLD = 80

.PHONY: help clean restore build test package deploy migrate docker-build docker-run docker-push lint format check-format security-scan docs serve-docs
.DEFAULT_GOAL := help

## Help Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø§Ù‡Ù†Ù…Ø§
help: ## Show this help message - Ù†Ù…Ø§ÛŒØ´ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª
	@echo "ğŸ“¦ Shipping Service - Complete Build Automation"
	@echo "ğŸš€ Ø³ÛŒØ³ØªÙ… Ø®ÙˆØ¯Ú©Ø§Ø±Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ø³Ø§Ø®Øª Ùˆ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³ Ø´ÛŒÙ¾ÛŒÙ†Ú¯"
	@echo ""
	@echo "ğŸš€ Main Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§ØµÙ„ÛŒ:"
	@echo "  make clean          - Clean all build artifacts - Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø®Øª"
	@echo "  make restore        - Restore NuGet packages - Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§"
	@echo "  make build          - Build the solution - Ø³Ø§Ø®Øª Ù¾Ø±ÙˆÚ˜Ù‡"
	@echo "  make test           - Run all tests with coverage - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ Ø¨Ø§ Ù¾ÙˆØ´Ø´"
	@echo "  make package        - Create deployment package - Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ú©ÛŒØ¬ Ø§Ø³ØªÙ‚Ø±Ø§Ø±"
	@echo "  make deploy         - Deploy to target environment - Ø§Ø³ØªÙ‚Ø±Ø§Ø±"
	@echo ""
	@echo "ğŸ—„ï¸ Database Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³:"
	@echo "  make migrate        - Run database migrations - Ø§Ø¬Ø±Ø§ÛŒ migration"
	@echo "  make migration      - Create new migration - Ø§ÛŒØ¬Ø§Ø¯ migration Ø¬Ø¯ÛŒØ¯"
	@echo "  make db-update      - Update database to latest migration - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³"
	@echo "  make db-seed        - Seed database with test data - Ø§Ø¬Ø±Ø§ÛŒ seed data"
	@echo "  make premium-migrate - Apply premium features migration - Ø§Ø¹Ù…Ø§Ù„ migration ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡"
	@echo ""
	@echo "ğŸ³ Docker Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¯Ø§Ú©Ø±:"
	@echo "  make docker-build   - Build Docker image - Ø³Ø§Ø®Øª ØªØµÙˆÛŒØ± Ø¯Ø§Ú©Ø±"
	@echo "  make docker-run     - Run Docker container locally - Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù…Ø­Ù„ÛŒ"
	@echo "  make docker-push    - Push Docker image to registry - Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø±Ø¬ÛŒØ³ØªØ±ÛŒ"
	@echo "  make docker-compose - Run with docker-compose - Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø§ docker-compose"
	@echo ""
	@echo "ğŸ” Code Quality Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ú©ÛŒÙÛŒØª Ú©Ø¯:"
	@echo "  make lint           - Run static code analysis - ØªØ­Ù„ÛŒÙ„ Ø§Ø³ØªØ§ØªÛŒÚ© Ú©Ø¯"
	@echo "  make format         - Format code with dotnet format - ÙØ±Ù…Øª Ú©Ø±Ø¯Ù† Ú©Ø¯"
	@echo "  make check-format   - Check code formatting - Ø¨Ø±Ø±Ø³ÛŒ ÙØ±Ù…Øª Ú©Ø¯"
	@echo "  make security-scan  - Run security vulnerability scan - Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ"
	@echo "  make coverage       - Generate test coverage report - Ú¯Ø²Ø§Ø±Ø´ Ù¾ÙˆØ´Ø´ ØªØ³Øª"
	@echo ""
	@echo "ğŸ“š Documentation Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø³ØªÙ†Ø¯Ø³Ø§Ø²ÛŒ:"
	@echo "  make docs           - Generate API documentation - ØªÙˆÙ„ÛŒØ¯ Ù…Ø³ØªÙ†Ø¯Ø§Øª API"
	@echo "  make serve-docs     - Serve documentation locally - Ø³Ø±Ùˆ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù…Ø­Ù„ÛŒ"
	@echo ""
	@echo "ğŸ”§ Development Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª ØªÙˆØ³Ø¹Ù‡:"
	@echo "  make dev-setup      - Setup development environment - Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡"
	@echo "  make dev-run        - Run development server with hot reload - Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± ØªÙˆØ³Ø¹Ù‡"
	@echo "  make dev-watch      - Watch for changes and auto-rebuild - Ù†Ø¸Ø§Ø±Øª Ùˆ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±"
	@echo ""
	@echo "ğŸ’ Premium Features - ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡:"
## Build Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø³Ø§Ø®Øª
clean: ## Clean all build artifacts and temporary files - Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø®Øª
	@echo "ğŸ§¹ Cleaning build artifacts... - Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø®Øª..."
	dotnet clean $(SOLUTION_FILE)
	Remove-Item -Recurse -Force -ErrorAction SilentlyContinue bin, obj, TestResults, coverage
	@echo "âœ… Clean completed - Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ø´Ø¯"

restore: ## Restore NuGet packages for all projects - Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§
	@echo "ğŸ“¦ Restoring NuGet packages... - Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§..."
	dotnet restore $(SOLUTION_FILE)
	@echo "âœ… Package restore completed - Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§ Ú©Ø§Ù…Ù„ Ø´Ø¯"

build: restore ## Build the entire solution - Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù„ Ù¾Ø±ÙˆÚ˜Ù‡
	@echo "ğŸ”¨ Building solution... - Ø³Ø§Ø®Øª Ù¾Ø±ÙˆÚ˜Ù‡..."
	dotnet build $(SOLUTION_FILE) --configuration Release --no-restore
	@echo "âœ… Build completed successfully - Ø³Ø§Ø®Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ø§Ù…Ù„ Ø´Ø¯"

build-debug: restore ## Build solution in debug mode - Ø³Ø§Ø®Øª Ø¯Ø± Ø­Ø§Ù„Øª debug
	@echo "ğŸ”¨ Building solution (Debug)... - Ø³Ø§Ø®Øª Ø¯Ø± Ø­Ø§Ù„Øª Ø¯ÛŒØ¨Ø§Ú¯..."
	dotnet build $(SOLUTION_FILE) --configuration Debug --no-restore
	@echo "âœ… Debug build completed - Ø³Ø§Ø®Øª Ø¯ÛŒØ¨Ø§Ú¯ Ú©Ø§Ù…Ù„ Ø´Ø¯"

## Test Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª ØªØ³Øª
test: ## Run all tests with coverage reporting - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ Ø¨Ø§ Ú¯Ø²Ø§Ø±Ø´ Ù¾ÙˆØ´Ø´
	@echo "ğŸ§ª Running tests with coverage... - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ Ø¨Ø§ Ù¾ÙˆØ´Ø´..."
	dotnet test $(SOLUTION_FILE) \
		--configuration Release \
		--no-build \
		--verbosity normal \
		--collect:"XPlat Code Coverage" \
		--results-directory:./TestResults \
		--logger:"trx;LogFileName=test-results.trx" \
		--logger:"html;LogFileName=test-results.html"
	@echo "âœ… Tests completed - ØªØ³Øªâ€ŒÙ‡Ø§ Ú©Ø§Ù…Ù„ Ø´Ø¯"

test-watch: ## Run tests in watch mode for development - ØªØ³Øª Ø¯Ø± Ø­Ø§Ù„Øª watch
	@echo "ğŸ‘€ Running tests in watch mode... - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ø¯Ø± Ø­Ø§Ù„Øª watch..."
	dotnet watch test $(TEST_PROJECT) --configuration Debug

coverage: test ## Generate detailed test coverage report - ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ù¾ÙˆØ´Ø´ ØªØ³Øª
	@echo "ğŸ“Š Generating coverage report... - ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ù¾ÙˆØ´Ø´..."
	dotnet tool install -g dotnet-reportgenerator-globaltool 2>$$null || echo "ReportGenerator already installed"
	reportgenerator \
		-reports:"TestResults/**/coverage.cobertura.xml" \
		-targetdir:"TestResults/CoverageReport" \
		-reporttypes:"Html;Badges;TextSummary"
	@echo "âœ… Coverage report generated at TestResults/CoverageReport/ - Ú¯Ø²Ø§Ø±Ø´ Ù¾ÙˆØ´Ø´ Ø¯Ø± TestResults/CoverageReport/ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯"

## Package and Deployment Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ Ø§Ø³ØªÙ‚Ø±Ø§Ø±
package: build ## Create deployment package - Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ú©ÛŒØ¬ Ø§Ø³ØªÙ‚Ø±Ø§Ø±
	@echo "ğŸ“¦ Creating deployment package... - Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ú©ÛŒØ¬ Ø§Ø³ØªÙ‚Ø±Ø§Ø±..."
	dotnet publish $(API_PROJECT) \
		--configuration Release \
		--no-build \
		--output ./publish \
		--runtime win-x64 \
		--self-contained false
	@echo "âœ… Package created at ./publish/ - Ù¾Ú©ÛŒØ¬ Ø¯Ø± ./publish/ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯"

deploy: package ## Deploy to target environment - Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¯Ø± Ù…Ø­ÛŒØ· Ù‡Ø¯Ù
	@echo "ğŸš€ Deploying application... - Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†..."
	# Add your deployment commands here (Azure, AWS, etc.)
	@echo "âœ… Deployment completed - Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ú©Ø§Ù…Ù„ Ø´Ø¯"

## Database Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³
migrate: ## Run all pending database migrations - Ø§Ø¬Ø±Ø§ÛŒ migration Ù‡Ø§ÛŒ Ù…Ø¹Ù„Ù‚
	@echo "ğŸ—„ï¸ Running database migrations... - Ø§Ø¬Ø±Ø§ÛŒ migration Ù‡Ø§ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³..."
	dotnet ef database update \
		--project $(INFRASTRUCTURE_PROJECT) \
		--startup-project $(API_PROJECT) \
		--connection $(DB_CONNECTION)
	@echo "âœ… Migrations completed - migration Ù‡Ø§ Ú©Ø§Ù…Ù„ Ø´Ø¯"

migration: ## Create a new database migration (requires MIGRATION_NAME) - Ø§ÛŒØ¬Ø§Ø¯ migration Ø¬Ø¯ÛŒØ¯
	@echo "ğŸ“ Creating new migration: $(MIGRATION_NAME)... - Ø§ÛŒØ¬Ø§Ø¯ migration Ø¬Ø¯ÛŒØ¯..."
	dotnet ef migrations add $(MIGRATION_NAME) \
		--project $(INFRASTRUCTURE_PROJECT) \
		--startup-project $(API_PROJECT)
	@echo "âœ… Migration $(MIGRATION_NAME) created - migration $(MIGRATION_NAME) Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯"

db-update: ## Update database to latest migration - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
	@echo "â¬†ï¸ Updating database... - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³..."
	dotnet ef database update \
		--project $(INFRASTRUCTURE_PROJECT) \
		--startup-project $(API_PROJECT)
	@echo "âœ… Database updated - Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯"

db-seed: ## Seed database with test data - Ø§Ø¬Ø±Ø§ÛŒ seed data
	@echo "ğŸŒ± Seeding database... - Ø§Ø¬Ø±Ø§ÛŒ seed data..."
	dotnet run --project $(API_PROJECT) -- --seed-data
	@echo "âœ… Database seeded - seed data Ø§Ø¬Ø±Ø§ Ø´Ø¯"

db-reset: ## Reset database (drops and recreates) - Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
	@echo "ğŸ”„ Resetting database... - Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³..."
	dotnet ef database drop --force \
		--project $(INFRASTRUCTURE_PROJECT) \
		--startup-project $(API_PROJECT)
	$(MAKE) migrate
	$(MAKE) db-seed
	@echo "âœ… Database reset completed - Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ú©Ø§Ù…Ù„ Ø´Ø¯"

## Premium Features Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡
premium-migrate: ## Apply premium features migration - Ø§Ø¹Ù…Ø§Ù„ migration ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡
	@echo "ğŸ’ Applying premium features migration... - Ø§Ø¹Ù…Ø§Ù„ migration ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡..."
	# Apply the SQL migration file we created
	psql $(DB_CONNECTION) -f MIGRATION_PREMIUM_FEATURES.sql
	@echo "âœ… Premium features migration applied - migration ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯"

premium-test: ## Test premium subscription features - ØªØ³Øª ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡
	@echo "ğŸ’ Testing premium subscription features... - ØªØ³Øª ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú© ÙˆÛŒÚ˜Ù‡..."
	dotnet test $(TEST_PROJECT) --filter "Category=Premium" --verbosity normal
	@echo "âœ… Premium features tests completed - ØªØ³Øª ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ Ú©Ø§Ù…Ù„ Ø´Ø¯"

## Docker Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¯Ø§Ú©Ø±
docker-build: ## Build Docker image for the application - Ø³Ø§Ø®Øª ØªØµÙˆÛŒØ± Ø¯Ø§Ú©Ø±
	@echo "ğŸ³ Building Docker image... - Ø³Ø§Ø®Øª ØªØµÙˆÛŒØ± Ø¯Ø§Ú©Ø±..."
	docker build -t $(DOCKER_IMAGE):$(DOCKER_TAG) -f Dockerfile .
	@echo "âœ… Docker image built: $(DOCKER_IMAGE):$(DOCKER_TAG) - ØªØµÙˆÛŒØ± Ø¯Ø§Ú©Ø± Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯"

docker-run: ## Run Docker container locally - Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù…Ø­Ù„ÛŒ
	@echo "ğŸ³ Running Docker container... - Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¯Ø§Ú©Ø±..."
	docker run -d \
		--name $(PROJECT_NAME)-container \
		-p 8080:80 \
		-e ASPNETCORE_ENVIRONMENT=Development \
		$(DOCKER_IMAGE):$(DOCKER_TAG)
	@echo "âœ… Container running at http://localhost:8080 - Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¯Ø± http://localhost:8080 Ø§Ø¬Ø±Ø§ Ø´Ø¯"

docker-stop: ## Stop running Docker container - ØªÙˆÙ‚Ù Ú©Ø§Ù†ØªÛŒÙ†Ø±
	@echo "ğŸ›‘ Stopping Docker container... - ØªÙˆÙ‚Ù Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¯Ø§Ú©Ø±..."
	docker stop $(PROJECT_NAME)-container || true
	docker rm $(PROJECT_NAME)-container || true
	@echo "âœ… Container stopped - Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù…ØªÙˆÙ‚Ù Ø´Ø¯"

docker-push: docker-build ## Push Docker image to registry - Ø§Ø±Ø³Ø§Ù„ ØªØµÙˆÛŒØ± Ø¨Ù‡ Ø±Ø¬ÛŒØ³ØªØ±ÛŒ
	@echo "ğŸ“¤ Pushing Docker image to registry... - Ø§Ø±Ø³Ø§Ù„ ØªØµÙˆÛŒØ± Ø¨Ù‡ Ø±Ø¬ÛŒØ³ØªØ±ÛŒ..."
	docker tag $(DOCKER_IMAGE):$(DOCKER_TAG) $(DOCKER_REGISTRY)/$(DOCKER_IMAGE):$(DOCKER_TAG)
	docker push $(DOCKER_REGISTRY)/$(DOCKER_IMAGE):$(DOCKER_TAG)
	@echo "âœ… Image pushed to registry - ØªØµÙˆÛŒØ± Ø¨Ù‡ Ø±Ø¬ÛŒØ³ØªØ±ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯"

docker-compose: ## Run application with docker-compose - Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø§ docker-compose
	@echo "ğŸ³ Starting application with docker-compose... - Ø´Ø±ÙˆØ¹ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¨Ø§ docker-compose..."
	docker-compose up -d --build
	@echo "âœ… Application started with docker-compose - Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¨Ø§ docker-compose Ø´Ø±ÙˆØ¹ Ø´Ø¯"

docker-compose-down: ## Stop docker-compose services - ØªÙˆÙ‚Ù Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ docker-compose
	@echo "ğŸ›‘ Stopping docker-compose services... - ØªÙˆÙ‚Ù Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ docker-compose..."
	docker-compose down
	@echo "âœ… Services stopped - Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ Ù…ØªÙˆÙ‚Ù Ø´Ø¯"

## Code Quality Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ú©ÛŒÙÛŒØª Ú©Ø¯
lint: ## Run static code analysis - ØªØ­Ù„ÛŒÙ„ Ø§Ø³ØªØ§ØªÛŒÚ© Ú©Ø¯
	@echo "ğŸ” Running static code analysis... - ØªØ­Ù„ÛŒÙ„ Ø§Ø³ØªØ§ØªÛŒÚ© Ú©Ø¯..."
	dotnet tool install -g Microsoft.CodeAnalysis.NetAnalyzers 2>$$null || echo "Analyzers already installed"
	dotnet build $(SOLUTION_FILE) --verbosity normal
	@echo "âœ… Static analysis completed - ØªØ­Ù„ÛŒÙ„ Ø§Ø³ØªØ§ØªÛŒÚ© Ú©Ø§Ù…Ù„ Ø´Ø¯"

format: ## Format code according to style guidelines - ÙØ±Ù…Øª Ú©Ø±Ø¯Ù† Ú©Ø¯
	@echo "ğŸ’… Formatting code... - ÙØ±Ù…Øª Ú©Ø±Ø¯Ù† Ú©Ø¯..."
	dotnet format $(SOLUTION_FILE) --fix-whitespace --fix-style --fix-analyzers
	@echo "âœ… Code formatting completed - ÙØ±Ù…Øª Ú©Ø±Ø¯Ù† Ú©Ø¯ Ú©Ø§Ù…Ù„ Ø´Ø¯"

check-format: ## Check if code is properly formatted - Ø¨Ø±Ø±Ø³ÛŒ ÙØ±Ù…Øª Ú©Ø¯
	@echo "ğŸ” Checking code format... - Ø¨Ø±Ø±Ø³ÛŒ ÙØ±Ù…Øª Ú©Ø¯..."
	dotnet format $(SOLUTION_FILE) --verify-no-changes --verbosity diagnostic
	@echo "âœ… Format check completed - Ø¨Ø±Ø±Ø³ÛŒ ÙØ±Ù…Øª Ú©Ø§Ù…Ù„ Ø´Ø¯"

security-scan: ## Run security vulnerability scanning - Ø¨Ø±Ø±Ø³ÛŒ Ø¢Ø³ÛŒØ¨â€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ
	@echo "ğŸ”’ Running security scan... - Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ..."
	dotnet list package --vulnerable --include-transitive
	dotnet tool install -g Microsoft.CST.DevSkim.CLI 2>$$null || echo "DevSkim already installed"
	devskim analyze .
	@echo "âœ… Security scan completed - Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ú©Ø§Ù…Ù„ Ø´Ø¯"

## Documentation Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø³ØªÙ†Ø¯Ø³Ø§Ø²ÛŒ
docs: ## Generate API documentation - ØªÙˆÙ„ÛŒØ¯ Ù…Ø³ØªÙ†Ø¯Ø§Øª API
	@echo "ğŸ“š Generating API documentation... - ØªÙˆÙ„ÛŒØ¯ Ù…Ø³ØªÙ†Ø¯Ø§Øª API..."
	dotnet tool install -g Swashbuckle.AspNetCore.Cli 2>$$null || echo "Swagger CLI already installed"
	dotnet build $(API_PROJECT)
	swagger tofile --output ./docs/api.json $(API_PROJECT)/bin/Release/net8.0/$(API_PROJECT).dll v1
	@echo "âœ… API documentation generated at ./docs/ - Ù…Ø³ØªÙ†Ø¯Ø§Øª API Ø¯Ø± ./docs/ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯"

serve-docs: docs ## Serve documentation locally - Ø³Ø±Ùˆ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù…Ø­Ù„ÛŒ
	@echo "ğŸŒ Serving documentation... - Ø³Ø±Ùˆ Ù…Ø³ØªÙ†Ø¯Ø§Øª..."
	# Requires Python for simple HTTP server
	cd docs && python -m http.server 8000
	@echo "ğŸ“– Documentation available at http://localhost:8000 - Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¯Ø± http://localhost:8000 Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª"

## Development Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª ØªÙˆØ³Ø¹Ù‡
dev-setup: ## Setup development environment - Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡
	@echo "ğŸ› ï¸ Setting up development environment... - Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡..."
	dotnet tool install -g dotnet-ef
	dotnet tool install -g dotnet-watch
	dotnet tool install -g dotnet-format
	dotnet tool install -g Microsoft.dotnet-httprepl
	$(MAKE) restore
	$(MAKE) migrate
	@echo "âœ… Development environment ready - Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª"

dev-run: ## Run development server with hot reload - Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± ØªÙˆØ³Ø¹Ù‡
	@echo "ğŸ”¥ Starting development server... - Ø´Ø±ÙˆØ¹ Ø³Ø±ÙˆØ± ØªÙˆØ³Ø¹Ù‡..."
	dotnet watch run --project $(API_PROJECT) --environment Development

dev-watch: ## Watch for changes and auto-rebuild - Ù†Ø¸Ø§Ø±Øª Ùˆ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
	@echo "ğŸ‘€ Watching for changes... - Ù†Ø¸Ø§Ø±Øª Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª..."
	dotnet watch build $(SOLUTION_FILE)

## Performance and Monitoring Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¹Ù…Ù„Ú©Ø±Ø¯ Ùˆ Ù†Ø¸Ø§Ø±Øª
benchmark: ## Run performance benchmarks - Ø§Ø¬Ø±Ø§ÛŒ benchmark Ø¹Ù…Ù„Ú©Ø±Ø¯
	@echo "âš¡ Running performance benchmarks... - Ø§Ø¬Ø±Ø§ÛŒ benchmark Ø¹Ù…Ù„Ú©Ø±Ø¯..."
	dotnet run --project $(TEST_PROJECT) --configuration Release -- --benchmark
	@echo "âœ… Benchmarks completed - benchmark Ù‡Ø§ Ú©Ø§Ù…Ù„ Ø´Ø¯"

health-check: ## Check application health endpoints - Ø¨Ø±Ø±Ø³ÛŒ Ø³Ù„Ø§Ù…Øª Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
	@echo "ğŸ¥ Checking application health... - Ø¨Ø±Ø±Ø³ÛŒ Ø³Ù„Ø§Ù…Øª Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†..."
	curl -f http://localhost:5000/health || echo "âŒ Health check failed"
	curl -f http://localhost:5000/health/ready || echo "âŒ Readiness check failed"
	@echo "âœ… Health checks completed - Ø¨Ø±Ø±Ø³ÛŒ Ø³Ù„Ø§Ù…Øª Ú©Ø§Ù…Ù„ Ø´Ø¯"

## Utility Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ
version: ## Display version information - Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ø³Ø®Ù‡
	@echo "ğŸ“‹ Version Information - Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ø³Ø®Ù‡:"
	@echo "  .NET SDK: $$(dotnet --version)"
	@echo "  Project: $(PROJECT_NAME)"
	@echo "  Docker: $$(docker --version 2>/dev/null || echo 'Not installed')"

logs: ## View application logs - Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
	@echo "ğŸ“œ Viewing application logs... - Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†..."
	docker logs $(PROJECT_NAME)-container -f 2>/dev/null || echo "Container not running"

status: ## Show application status - Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
	@echo "ğŸ“Š Application Status - ÙˆØ¶Ø¹ÛŒØª Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†:"
	@echo "  Docker Container: $$(docker ps --filter name=$(PROJECT_NAME)-container --format 'table {{.Status}}' | tail -n +2 || echo 'Not running')"
	@echo "  Database: $$(dotnet ef database list --project $(INFRASTRUCTURE_PROJECT) --startup-project $(API_PROJECT) 2>/dev/null | head -n 1 || echo 'Not connected')"

install-tools: ## Install required development tools - Ù†ØµØ¨ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡
	@echo "ğŸ”§ Installing development tools... - Ù†ØµØ¨ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡..."
	dotnet tool install -g dotnet-ef
	dotnet tool install -g dotnet-watch
	dotnet tool install -g dotnet-format
	dotnet tool install -g Microsoft.dotnet-httprepl
	dotnet tool install -g dotnet-reportgenerator-globaltool
	dotnet tool install -g Microsoft.CST.DevSkim.CLI
	@echo "âœ… Development tools installed - Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ Ù†ØµØ¨ Ø´Ø¯"

## CI/CD Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª CI/CD
ci-build: ## CI/CD build pipeline - Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† Ø³Ø§Ø®Øª CI/CD
	@echo "ğŸ¤– Running CI/CD build pipeline... - Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† Ø³Ø§Ø®Øª CI/CD..."
	$(MAKE) clean
	$(MAKE) restore
	$(MAKE) check-format
	$(MAKE) build
	$(MAKE) test
	$(MAKE) security-scan
	$(MAKE) package
	@echo "âœ… CI/CD pipeline completed successfully - Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† CI/CD Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ø§Ù…Ù„ Ø´Ø¯"

cd-deploy: ## CD deployment pipeline - Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† Ø§Ø³ØªÙ‚Ø±Ø§Ø± CD
	@echo "ğŸš€ Running CD deployment pipeline... - Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† Ø§Ø³ØªÙ‚Ø±Ø§Ø± CD..."
	$(MAKE) docker-build
	$(MAKE) docker-push
	$(MAKE) deploy
	@echo "âœ… CD pipeline completed successfully - Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† CD Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ø§Ù…Ù„ Ø´Ø¯"

## All-in-one Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ù‡Ù…Ù‡-Ø¯Ø±-ÛŒÚ©
full-build: ## Complete build with all checks - Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù„ Ø¨Ø§ ØªÙ…Ø§Ù… Ø¨Ø±Ø±Ø³ÛŒâ€ŒÙ‡Ø§
	@echo "ğŸ¯ Running complete build process... - Ø§Ø¬Ø±Ø§ÛŒ ÙØ±Ø¢ÛŒÙ†Ø¯ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù„..."
	$(MAKE) clean
	$(MAKE) ci-build
	$(MAKE) docs
	@echo "âœ… Full build process completed - ÙØ±Ø¢ÛŒÙ†Ø¯ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù„ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯"

first-run: ## First-time setup and run - Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ùˆ Ø§Ø¬Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
	@echo "ğŸ‰ Setting up project for first run... - Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡..."
	$(MAKE) dev-setup
	$(MAKE) build
	$(MAKE) db-seed
	@echo "âœ… Project ready! Run 'make dev-run' to start development server - Ù¾Ø±ÙˆÚ˜Ù‡ Ø¢Ù…Ø§Ø¯Ù‡! 'make dev-run' Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø³Ø±ÙˆØ± ØªÙˆØ³Ø¹Ù‡ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯"

## Database Utility Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
db-backup: ## Backup database - Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³
	@echo "ğŸ’¾ Creating database backup... - Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³..."
	pg_dump $(DB_CONNECTION) > backup_$$(date +%Y%m%d_%H%M%S).sql
	@echo "âœ… Database backup created - Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯"

db-restore: ## Restore database from backup (requires BACKUP_FILE) - Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§Ø² Ù¾Ø´ØªÛŒØ¨Ø§Ù†
	@echo "ğŸ“¥ Restoring database from backup... - Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§Ø² Ù¾Ø´ØªÛŒØ¨Ø§Ù†..."
	psql $(DB_CONNECTION) < $(BACKUP_FILE)
	@echo "âœ… Database restored from backup - Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø§Ø² Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø´Ø¯"

## Monitoring Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ù†Ø¸Ø§Ø±Øª
metrics: ## View application metrics - Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø¹ÛŒØ§Ø±Ù‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
	@echo "ğŸ“ˆ Application Metrics - Ù…Ø¹ÛŒØ§Ø±Ù‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†:"
	curl -s http://localhost:5000/metrics 2>/dev/null || echo "Metrics endpoint not available"

traces: ## View application traces - Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±Ø¯ÛŒØ§Ø¨ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
	@echo "ğŸ” Application Traces - Ø±Ø¯ÛŒØ§Ø¨ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†:"
	# Add your tracing commands here (Jaeger, Zipkin, etc.)
	@echo "Tracing not configured"

## Load Testing Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª ØªØ³Øª Ø¨Ø§Ø±
load-test: ## Run load tests against the application - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ø¨Ø§Ø±
	@echo "âš¡ Running load tests... - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ø¨Ø§Ø±..."
	# Requires k6 or similar load testing tool
	k6 run loadtest/shipping-service-test.js 2>/dev/null || echo "k6 not installed or test script missing"
	@echo "âœ… Load tests completed - ØªØ³Øª Ø¨Ø§Ø± Ú©Ø§Ù…Ù„ Ø´Ø¯"

stress-test: ## Run stress tests - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ø§Ø³ØªØ±Ø³
	@echo "ğŸ’ª Running stress tests... - Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Ø§Ø³ØªØ±Ø³..."
	# Add your stress testing commands here
	@echo "Stress testing not configured"

## Environment Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø­ÛŒØ·
env-dev: ## Setup development environment variables - ØªÙ†Ø¸ÛŒÙ… Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡
	@echo "ğŸ› ï¸ Setting up development environment... - ØªÙ†Ø¸ÛŒÙ… Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡..."
	cp .env.development .env 2>/dev/null || echo ".env.development not found"
	@echo "âœ… Development environment configured - Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø´Ø¯"

env-staging: ## Setup staging environment variables - ØªÙ†Ø¸ÛŒÙ… Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ· staging
	@echo "ğŸ­ Setting up staging environment... - ØªÙ†Ø¸ÛŒÙ… Ù…Ø­ÛŒØ· staging..."
	cp .env.staging .env 2>/dev/null || echo ".env.staging not found"
	@echo "âœ… Staging environment configured - Ù…Ø­ÛŒØ· staging Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø´Ø¯"

env-prod: ## Setup production environment variables - ØªÙ†Ø¸ÛŒÙ… Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ· ØªÙˆÙ„ÛŒØ¯
	@echo "ğŸ­ Setting up production environment... - ØªÙ†Ø¸ÛŒÙ… Ù…Ø­ÛŒØ· ØªÙˆÙ„ÛŒØ¯..."
	cp .env.production .env 2>/dev/null || echo ".env.production not found"
	@echo "âœ… Production environment configured - Ù…Ø­ÛŒØ· ØªÙˆÙ„ÛŒØ¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø´Ø¯"

## Cleanup Commands - Ø¯Ø³ØªÙˆØ±Ø§Øª Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ
clean-all: ## Clean everything including Docker images and volumes - Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Ù‡Ù…Ù‡ Ú†ÛŒØ²
	@echo "ğŸ§¹ Deep cleaning everything... - Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù…ÛŒÙ‚ Ù‡Ù…Ù‡ Ú†ÛŒØ²..."
	$(MAKE) clean
	$(MAKE) docker-stop
	docker rmi $(DOCKER_IMAGE):$(DOCKER_TAG) 2>/dev/null || true
	docker system prune -f
	@echo "âœ… Deep clean completed - Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù…ÛŒÙ‚ Ú©Ø§Ù…Ù„ Ø´Ø¯"

reset-dev: ## Reset development environment - Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡
	@echo "ğŸ”„ Resetting development environment... - Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡..."
	$(MAKE) clean-all
	$(MAKE) db-reset
	$(MAKE) dev-setup
	@echo "âœ… Development environment reset - Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø´Ø¯"

## Show current configuration - Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ÙØ¹Ù„ÛŒ
show-config: ## Display current configuration - Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ÙØ¹Ù„ÛŒ
	@echo "âš™ï¸ Current Configuration - Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ÙØ¹Ù„ÛŒ:"
	@echo "  Project: $(PROJECT_NAME)"
	@echo "  Solution: $(SOLUTION_FILE)"
	@echo "  API Project: $(API_PROJECT)"
	@echo "  Docker Image: $(DOCKER_IMAGE):$(DOCKER_TAG)"
	@echo "  Database: $(DB_CONNECTION)"
	@echo "  Coverage Threshold: $(COVERAGE_THRESHOLD)%"

# Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù„ Ùˆ ØªØ³Øª
full-build: clean restore build test

# Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ production
prepare-prod: clean restore build-release test

# Ø³Ø§Ø®Øª Ùˆ Ø§Ø¬Ø±Ø§
build-run: build run

# Ø³Ø§Ø®Øª Docker Ùˆ Ø§Ø¬Ø±Ø§
docker-full: docker-clean docker-build docker-run

# Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø§Ù…Ù„ Ú©ÛŒÙÛŒØª
quality-check: format-check analyze security outdated

# Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡
dev-setup: install-tools restore migrate seed

# Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ CI/CD
ci: clean restore build test pack

# Ø¯Ø³ØªÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶
all: help
